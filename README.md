# IOS-Final-Project
A second-hand book trading platform for NJU students

本项目由swift语言开发的移动应用客户端和python开发的服务器端组成。移动应用客户端选用TabBarViewController作为主要的ContainerViewController,第一个tab为首页，第二个为tab消息页面，第三个tab为个人信息页面，消息界面和个人信息界面均需登录，如果当前未登录，会自动弹出登录界面。下面对每一个tab进行解释：

Tab 1：商品及其后续界面：

首页左上角的小加号为发布新商品发布功能，目前只做了UI，服务器端功能尚未完善，因此暂时不支持新商品的发布。界面中需要填写商品的名称，介绍和价格，填写完毕后，点击键盘上的"return"键即可退出编辑模式，还需要挑选出上传商品的类型，并上传商品的图片，即可发布新商品。

首页顶部为搜索框，点击后即进入搜索商品界面，输入商品名称，点击键盘上的"search"键即可搜索相应的商品。目前数据库中只存了一本书，推荐搜索关键字"IOS"(全大写）即可查看结果。点击相应的结果，则跳转到商品的详细信息界面，在这里，你可以看到商品的卖家信息，商品的价格以及商品的简介，如果想要该商品可以点击下面的"联系卖家"按钮，将会为用户创建与卖家之间的对话，就可以与卖家商量交易信息啦。

首页下方有按照分类的快速浏览，书本被分类六类，分别为：课本，英语，计算机，考研/公务员，商科考试，兴趣读物，因为目前只有一本课本，所以只有点击课本类才有相应的搜索结果，其余的类别会显示为空

Tab 2：消息及聊天界面：

消息界面中的每个cell包含对方的头像，用户名，最后一条消息，最后一条消息的时间和当前未读消息数提示，当未读消息为0时，不显示。

对话界面除了两个人之间的对话，我们对时间的显示机制进行了优化。同一天的信息显示具体时间，隔天的时间显示日期，同时根据时间间隔的长短灵活选择显示还是不显示时间框。与此同时，我们的对话界面在点进去时就可以自动滑到最底部，完全模拟真实的聊天app。

我们在每一个新注册的账号里预置了一个系统对话框，与系统对话，它会通过服务器返回给你一样的内容，方便对应用功能进行测试。

Tab 3：个人信息及修改界面：

个人信息界面详细展示了用户头像、昵称、个性签名、性别等信息，同时保存用户发布，购买和卖出的商品。因为目前交易系统尚未开启（需要首先注册公司申请），用户的商品列表暂时只是个demo

个人信息可以进行修改，修改后的结果会同时在视图、数据模式（储存在沙盒中）和服务器数据库中同步刷新

最后对服务器端进行简单介绍：服务器端为一个接受get和post请求的http server，http请求会被转换为和数据库的交互操作，最终返回数据库交互的结果。

以上就是我们本次项目的说明，如果您有什么好的建议，欢迎随时联系我们~
